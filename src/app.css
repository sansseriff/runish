@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--shadow-sharp: 3px 3px 1px 1px rgb(0 0 0 / 0.07);
}

@font-face {
	font-family: 'Writer';
	src: url(/fonts/writer-400-normal.woff2) format('woff2');
	font-display: swap;
	font-weight: 400;
	font-style: normal;
}

@font-face {
	font-family: 'Writer';
	src: url(/fonts/writer-400-italic.woff2) format('woff2');
	font-display: swap;
	font-weight: 400;
	font-style: italic;
}

@font-face {
	font-family: 'Writer';
	src: url(/fonts/writer-700-normal.woff2) format('woff2');
	font-display: swap;
	font-weight: 700;
	font-style: normal;
}

@font-face {
	font-family: 'Writer';
	src: url(/fonts/writer-700-italic.woff2) format('woff2');
	font-display: swap;
	font-weight: 700;
	font-style: italic;
}

/* diagonal-pattern noise-texture transition-colors duration-300 */

body {
	margin: 0;
	padding: 0;
	/* background-color: blueviolet; */
}

.lora {
	font-family: 'Lora', serif;
	font-optical-sizing: auto;
	font-weight: 400;
	font-style: normal;
}

/* a {
	text-decoration: none;
	color: inherit;
} */

@theme {
	--font-sans: 'Writer', 'Inter', system-ui, sans-serif;
	--font-serif: 'Lora', serif;
	--font-writer: 'Writer', sans-serif;

	/* Use more specific variable name for Lora */
	--font-lora: 'Lora', serif;
	--breakpoint-sm: 38rem;
	--breakpoint-md: 45rem;
	--breakpoint-lg: 64rem;
	--breakpoint-2xl: 180rem;
	--breakpoint-3xl: 190rem;
}

@theme {
	--color-mint-500: rgb(0, 255, 150);

	/* Enhanced color palette inspired by Zed */
	--color-blue-50: hsl(210, 40%, 98%);
	--color-blue-100: hsl(210, 40%, 94%);
	--color-blue-200: hsl(213, 27%, 84%);
	--color-blue-300: hsl(215, 25%, 65%);
	--color-blue-400: hsl(217, 19%, 45%);
	--color-blue-500: hsl(219, 14%, 28%);
	--color-blue-600: hsl(220, 13%, 18%);
	--color-blue-700: hsl(218, 13%, 12%);
	--color-blue-800: hsl(218, 13%, 8%);
	--color-blue-900: hsl(218, 13%, 6%);

	/* Cream/warm tones */
	--color-cream-50: hsl(45, 23%, 97%);
	--color-cream-100: hsl(45, 23%, 95%);
	--color-cream-200: hsl(45, 18%, 88%);
	--color-cream-300: hsl(20, 15%, 75%);
	--color-cream-400: hsl(20, 15%, 60%);
	--color-cream-500: hsl(20, 15%, 45%);
	--color-cream-600: hsl(20, 15%, 35%);
	--color-cream-700: hsl(20, 15%, 25%);
	--color-cream-800: hsl(20, 15%, 15%);
	--color-cream-900: hsl(20, 15%, 10%);

	/* Neutral grays with subtle warmth */
	--color-offgray-50: hsl(210, 6%, 97%);
	--color-offgray-100: hsl(210, 6%, 93%);
	--color-offgray-200: hsl(210, 6%, 83%);
	--color-offgray-300: hsl(210, 6%, 73%);
	--color-offgray-400: hsl(210, 6%, 63%);
	--color-offgray-500: hsl(210, 6%, 53%);
	--color-offgray-600: hsl(210, 6%, 43%);
	--color-offgray-700: hsl(210, 6%, 33%);
	--color-offgray-800: hsl(210, 6%, 23%);
	--color-offgray-900: hsl(210, 6%, 13%);

	/* Accent color - sophisticated blue */
	--color-accent-blue: hsl(219, 93%, 40%);
	--color-text-accent: hsl(219, 93%, 40%);
}

/* h1 {
	color: var(--color-cream-500);
} */

/* h3 {
	color: var(--color-cream-500);
} */

/* h2 {
	color: var(--color-cream-500);
} */

@layer base {
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		margin-top: 0rem;
		margin-bottom: 0rem;
		line-height: 1.2;
		font-weight: 500;
	}
	p {
		margin-top: 0rem;
		margin-bottom: 0rem;
	}
	ul,
	ol {
		margin-top: 0rem;
		margin-bottom: 0rem;
		padding-left: 1.25rem;
	}
	li {
		margin-top: 0.4rem;
		margin-bottom: 0.4rem;
	}

	/* Enhanced base styling */
	body {
		background-color: hsl(45, 23%, 97%);
		color: hsl(210, 6%, 33%);
	}

	@media (prefers-color-scheme: dark) {
		body {
			background-color: hsl(218, 13%, 6%);
			color: hsl(210, 6%, 73%);
		}
	}
}

@layer utilities {
	/* Grid pattern utilities inspired by Zed */
	.grid-pattern {
		background-image:
			linear-gradient(hsla(213, 27%, 84%, 0.08) 1px, transparent 1px),
			linear-gradient(90deg, hsla(213, 27%, 84%, 0.08) 1px, transparent 1px);
		background-size: 16px 16px;
		opacity: 1;
	}

	@media (prefers-color-scheme: dark) {
		.grid-pattern {
			background-image:
				linear-gradient(hsla(215, 25%, 65%, 0.04) 1px, transparent 1px),
				linear-gradient(90deg, hsla(215, 25%, 65%, 0.04) 1px, transparent 1px);
			opacity: 1;
		}
	}

	/* Diagonal lines pattern */
	.diagonal-pattern {
		background-image: repeating-linear-gradient(
			42deg,
			transparent,
			transparent 6px,
			hsla(215, 25%, 65%, 0.1) 6px,
			hsla(215, 25%, 65%, 0.1) 7px
		);
	}

	@media (prefers-color-scheme: dark) {
		.diagonal-pattern {
			background-image: repeating-linear-gradient(
				42deg,
				transparent,
				transparent 6px,
				hsla(217, 19%, 45%, 0.04) 6px,
				hsla(217, 19%, 45%, 0.04) 7px
			);
		}
	}

	/* Enhanced border styles */
	.border-grid {
		border-color: hsla(213, 27%, 84%, 0.4);
	}

	@media (prefers-color-scheme: dark) {
		.border-grid {
			border-color: hsla(215, 25%, 65%, 0.1);
		}
	}

	/* Sophisticated shadows */
	.shadow-soft {
		box-shadow:
			0 1px 3px hsla(218, 13%, 6%, 0.06),
			0 1px 2px hsla(218, 13%, 6%, 0.1);
	}

	@media (prefers-color-scheme: dark) {
		.shadow-soft {
			box-shadow:
				0 1px 3px hsla(0, 0%, 0%, 0.3),
				0 1px 2px hsla(0, 0%, 0%, 0.2);
		}
	}

	.simple-noise {
		/* Create a stacking context for the background layer */
		position: relative;
	}

	.simple-noise::before {
		content: '';
		position: absolute;
		inset: 0;
		background-image: url('/images/noise.0e24d0e5.png');
		background-size: 180px;
		background-repeat: repeat;
		opacity: 0.05; /* subtle in light mode */
		pointer-events: none; /* noise doesn't eat clicks */
		z-index: 0; /* sit behind content */
		border-radius: inherit; /* match rounded containers */
	}

	/* Dark mode tweaks only affect the pseudo-element */
	:global(html.dark) .simple-noise::before {
		opacity: 0.04;
	}

	/* Noise texture overlay - simplified approach */
	.noise-texture {
		position: relative;
	}

	.noise-texture::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		/* background:
			radial-gradient(
				circle at 25% 25%,
				transparent 2%,
				hsla(0, 0%, 0%, 0.02) 2.5%,
				transparent 3%
			),
			radial-gradient(
				circle at 75% 75%,
				transparent 2%,
				hsla(0, 0%, 0%, 0.01) 2.5%,
				transparent 3%
			),
			radial-gradient(
				circle at 45% 55%,
				transparent 1.5%,
				hsla(0, 0%, 0%, 0.015) 2%,
				transparent 2.5%
			); */
		background-size:
			20px 20px,
			25px 25px,
			15px 15px;
		background-position:
			0 0,
			5px 5px,
			10px 10px;
		opacity: 0.8;
		z-index: -1;
	}

	@media (prefers-color-scheme: dark) {
		.noise-texture::before {
			/* background:
				radial-gradient(
					circle at 25% 25%,
					transparent 2%,
					hsla(0, 0%, 100%, 0.01) 2.5%,
					transparent 3%
				),
				radial-gradient(
					circle at 75% 75%,
					transparent 2%,
					hsla(0, 0%, 100%, 0.008) 2.5%,
					transparent 3%
				),
				radial-gradient(
					circle at 45% 55%,
					transparent 1.5%,
					hsla(0, 0%, 100%, 0.012) 2%,
					transparent 2.5%
				); */
			opacity: 0.6;
		}
	}

	/* Backdrop with subtle gradient */
	.backdrop-soft {
		background: linear-gradient(180deg, hsla(45, 23%, 97%, 0.8) 0%, hsla(210, 40%, 94%, 0.4) 100%);
		backdrop-filter: blur(8px);
	}

	@media (prefers-color-scheme: dark) {
		.backdrop-soft {
			background: linear-gradient(
				180deg,
				hsla(218, 13%, 8%, 0.95) 0%,
				hsla(218, 13%, 6%, 0.8) 100%
			);
		}
	}

	/* Corner decorative elements like Zed */
	/* .corner-decoration {
		position: relative;
	} */

	/* .corner-decoration::before {
		content: '';
		position: absolute;
		width: 8px;
		height: 8px;
		background: hsl(45, 23%, 97%);
		border: 1px solid hsl(213, 27%, 84%);
		border-radius: 1px;
		transform: rotate(45deg);
		z-index: 10;
	}

	@media (prefers-color-scheme: dark) {
		.corner-decoration::before {
			background: hsl(218, 13%, 6%);
			border-color: hsla(215, 25%, 65%, 0.2);
		}
	} */

	.corner-diamond {
		position: absolute;
		width: 8px;
		height: 8px;
		transform: rotate(45deg);
		border: 1px solid hsl(213, 27%, 84%);
		background: hsl(45, 23%, 97%);
		border-radius: 1px;
		z-index: 20;
	}
	.corner-diamond-tl {
		top: -4.5px;
		left: -4.5px;
	}
	.corner-diamond-tr {
		top: -4.5px;
		right: -4.5px;
	}
	.corner-diamond-bl {
		bottom: -4.5px;
		left: -4.5px;
	}
	.corner-diamond-br {
		bottom: -4.5px;
		right: -4.5px;
	}

	@media (prefers-color-scheme: dark) {
		.corner-diamond {
			border-color: hsla(215, 25%, 65%, 0.2);
			background: hsl(218, 13%, 6%);
		}
	}

	html.light .corner-diamond {
		border: 1px solid hsl(213, 27%, 84%);
		background: hsl(45, 23%, 97%);
	}
	html.dark .corner-diamond {
		border-color: hsla(215, 25%, 65%, 0.2);
		background: hsl(218, 13%, 6%);
	}

	/* Corner positions */
	.corner-tl::before {
		top: -4.5px;
		left: -4.5px;
	}
	.corner-tr::before {
		top: -4.5px;
		right: -4.5px;
	}
	.corner-bl::before {
		bottom: -4.5px;
		left: -4.5px;
	}
	.corner-br::before {
		bottom: -4.5px;
		right: -4.5px;
	}
	*/

	/* Text accent utilities */
	.text-accent-blue {
		color: hsl(219, 93%, 40%);
	}

	@media (prefers-color-scheme: dark) {
		.text-accent-blue {
			color: hsl(219, 93%, 55%);
		}
	}

	/* Writer font utilities */
	.font-writer {
		font-family: 'Writer', sans-serif;
	}

	.font-writer-400 {
		font-family: 'Writer', sans-serif;
		font-weight: 400;
	}

	.font-writer-700 {
		font-family: 'Writer', sans-serif;
		font-weight: 700;
	}

	/* Writer font classes for different use cases */
	.text-writer {
		font-family: 'Writer', sans-serif;
		font-weight: 400;
	}

	.text-writer-bold {
		font-family: 'Writer', sans-serif;
		font-weight: 700;
	}

	.text-writer-italic {
		font-family: 'Writer', sans-serif;
		font-weight: 400;
		font-style: italic;
	}

	.text-writer-bold-italic {
		font-family: 'Writer', sans-serif;
		font-weight: 700;
		font-style: italic;
	}

	/* --------------------------------------------------------------
	 Explicit light/dark overrides
	 We previously relied solely on @media (prefers-color-scheme: dark) to restyle
	 patterns, borders, etc. When a user explicitly chooses a theme we must
	 override those media-query styles (they still match if the OS is dark).
	 Strategy: toggle either .dark OR .light class on <html>. Add selectors
	 that out-specify the media-query variants so the explicit choice wins.
	 (Media query styles have specificity 0,1,0; adding html.light ... beats them.)
-------------------------------------------------------------- */
	html.light body {
		background-color: hsl(45, 23%, 97%);
		color: hsl(210, 6%, 33%);
	}
	html.dark body {
		background-color: hsl(218, 13%, 6%);
		color: hsl(210, 6%, 73%);
	}

	html.light .grid-pattern {
		background-image:
			linear-gradient(hsla(213, 27%, 84%, 0.2) 1px, transparent 1px),
			linear-gradient(90deg, hsla(213, 27%, 84%, 0.2) 1px, transparent 1px);
	}
	html.dark .grid-pattern {
		background-image:
			linear-gradient(hsla(215, 25%, 65%, 0.08) 1px, transparent 1px),
			linear-gradient(90deg, hsla(215, 25%, 65%, 0.08) 1px, transparent 1px);
	}

	/* Diagonal pattern */
	html.light .diagonal-pattern {
		background-image: repeating-linear-gradient(
			42deg,
			transparent,
			transparent 6px,
			hsla(215, 25%, 65%, 0.05) 6px,
			hsla(215, 25%, 65%, 0.05) 7px
		);
	}
	html.dark .diagonal-pattern {
		background-image: repeating-linear-gradient(
			42deg,
			transparent,
			transparent 6px,
			hsla(217, 19%, 45%, 0.04) 6px,
			hsla(217, 19%, 45%, 0.04) 7px
		);
	}

	/* Borders */
	html.light .border-grid {
		border-color: hsla(213, 27%, 84%, 0.4);
	}
	html.dark .border-grid {
		border-color: hsla(215, 25%, 65%, 0.1);
	}

	/* Soft shadow */
	html.light .shadow-soft {
		box-shadow:
			0 1px 3px hsla(218, 13%, 6%, 0.06),
			0 1px 2px hsla(218, 13%, 6%, 0.1);
	}
	html.dark .shadow-soft {
		box-shadow:
			0 1px 3px hsla(0, 0%, 0%, 0.3),
			0 1px 2px hsla(0, 0%, 0%, 0.2);
	}

	/* Noise texture opacity tweak */
	html.light .noise-texture::before {
		opacity: 0.8;
	}
	html.dark .noise-texture::before {
		opacity: 0.6;
	}

	/* Backdrop */
	html.light .backdrop-soft {
		background: linear-gradient(180deg, hsla(45, 23%, 97%, 0.8) 0%, hsla(210, 40%, 94%, 0.4) 100%);
	}
	html.dark .backdrop-soft {
		background: linear-gradient(180deg, hsla(218, 13%, 8%, 0.95) 0%, hsla(218, 13%, 6%, 0.8) 100%);
	}

	/* Corner decoration diamond */
	/* html.light .corner-decoration::before {
		background: hsl(45, 23%, 97%);
		border: 1px solid hsl(213, 27%, 84%);
	}
	html.dark .corner-decoration::before {
		background: hsl(218, 13%, 6%);
		border-color: hsla(215, 25%, 65%, 0.2);
	} */

	/* Accent text */
	html.light .text-accent-blue {
		color: hsl(219, 93%, 40%);
	}
	html.dark .text-accent-blue {
		color: hsl(219, 93%, 55%);
	}

	/* If future components rely on variables, consider moving palette to :root and
	 toggling a data-theme attribute instead of duplicating style blocks. */
}
